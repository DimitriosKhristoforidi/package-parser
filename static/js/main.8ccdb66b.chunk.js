(this["webpackJsonppackage-parser"]=this["webpackJsonppackage-parser"]||[]).push([[0],{253:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),i=a.n(c),s=a(74),o=a(85),u=r.a.createContext(),d={packageList:[],loading:!1},p=function(e,t){switch(t.type){case"updatePackage":return Object(o.a)(Object(o.a)({},e),{},{packageList:t.payload});case"clearPackage":return d;case"setLoading":return Object(o.a)(Object(o.a)({},e),{},{loading:t.payload});default:return e}},l=a(259),j=a(263),b=a(48),h=a.n(b),f=a(66),O=a(260),g=a(258),k=a(261),x=a(35),m=function(e){return{type:"setLoading",payload:e}},v=a(23),y=O.a.TextArea;function w(){var e=Object(n.useContext)(u),t=e.dispatch,a=e.state,r=g.a.useForm(),c=Object(s.a)(r,1)[0],i=function(){var e=Object(f.a)(h.a.mark((function e(a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=JSON.parse(a.package),t({type:"updatePackage",payload:Object.keys(n)})}catch(a){k.a.error({title:"Not a json"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(g.a,{form:c,layout:"vertical",onFinish:i,children:[Object(v.jsx)(g.a.Item,{name:"package",required:!0,children:Object(v.jsx)(y,{allowClear:!0,autoSize:{minRows:2},placeholder:'Insert dependencies json: { "react": "^17.0.2" }'})}),Object(v.jsx)(g.a.Item,{children:Object(v.jsx)(x.a,{loading:a.loading,type:"primary",htmlType:"submit",children:"Find"})})]})}var P=a(144),L=a.n(P).a.create({baseURL:"https://api.npms.io/v2/search"}),I={getPackage:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("",{params:{q:t}});case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=a(262),S=a(257),T=[{title:"Title",dataIndex:"name",key:"name",width:"15%"},{title:"Description",dataIndex:"description",key:"description",width:"40%"},{title:"Tags",dataIndex:"keywords",key:"keywords",render:function(e){return Object(v.jsx)(v.Fragment,{children:null===e||void 0===e?void 0:e.map((function(e){return Object(v.jsx)(C.a,{color:"blue",children:e.toUpperCase()},e)}))})}},{title:"NPM link",dataIndex:"links",key:"links",render:function(e){return Object(v.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.npm,children:e.npm})}}],F=function(){var e=Object(f.a)(h.a.mark((function e(t,a,n){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.packageList.length){e.next=7;break}for(c in a(m(!0)),r=[],t.packageList)r.push(I.getPackage(t.packageList[c]));return e.next=6,Promise.all(r).then((function(e){var t=e.map((function(e){return e.results[0].package}));n(t)}));case 6:a(m(!1));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();function N(){var e=Object(n.useContext)(u),t=e.dispatch,a=e.state,r=Object(n.useState)([]),c=Object(s.a)(r,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){F(a,t,o)}),[a.packageList]),Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(S.a,{loading:a.loading,columns:T,dataSource:i,pagination:!1,bordered:!0,rowKey:"name"})})}var J=l.a.Title;function R(){return Object(v.jsxs)(j.b,{direction:"vertical",size:20,style:{width:"100%"},children:[Object(v.jsx)(J,{level:2,children:"Package Parser"}),Object(v.jsx)(w,{}),Object(v.jsx)(N,{})]})}function q(){var e=Object(n.useReducer)(p,d),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(v.jsx)(u.Provider,{value:{dispatch:r,state:a},children:Object(v.jsx)(R,{})})}a(253),a(254);i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(q,{})}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.8ccdb66b.chunk.js.map