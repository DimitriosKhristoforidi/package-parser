(this["webpackJsonppackage-parser"]=this["webpackJsonppackage-parser"]||[]).push([[0],{265:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(38),i=n.n(c),s=n(270),o=n(273),u=n(4),d=n(158),p=n(269),l=n(46),f=n(93),j=f.c,b=n(39),h=n(25),g=n.n(h),k=n(79),m="JSON is empty",x="Not a JSON",O=n(154),v=n.n(O).a.create({baseURL:"https://api.npms.io/v2/search"}),w={getPackage:function(){var e=Object(b.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("",{params:{q:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=w,I=function(){var e=Object(b.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return y.getPackage(e)})),e.next=3,Promise.all(n).then((function(e){return e.map((function(e){return e.results[0].package}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"{}"!==t){e.next=2;break}throw new Error(m);case 2:e.prev=2,JSON.parse(t),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new Error(x);case 9:case"end":return e.stop()}}),e,null,[[2,6]])})));return function(t){return e.apply(this,arguments)}}(),S=Object(k.b)("packages/fetchPackages",function(){var e=Object(b.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:return n=Object.keys(JSON.parse(t)),e.next=5,I(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N={name:"dependencies",placeholder:'Insert dependencies json. Example: { "react": "^17.0.2" }'},J="Find",L=n(27),C=d.a.TextArea,T=function(){var e=Object(f.b)(),t=j((function(e){return e.packages.loading})),n=p.a.useForm(),r=Object(u.a)(n,1)[0],a=N;return Object(L.jsxs)(p.a,{form:r,layout:"vertical",onFinish:function(t){e(S(t[a.name]))},children:[Object(L.jsx)(p.a.Item,{name:a.name,required:!0,children:Object(L.jsx)(C,{allowClear:!0,autoSize:{minRows:2},placeholder:a.placeholder})}),Object(L.jsx)(p.a.Item,{children:Object(L.jsx)(l.a,{loading:t,type:"primary",htmlType:"submit",children:J})})]})},E=n(268),F=n(272),R=[{title:"Title",dataIndex:"name",key:"name",width:"15%"},{title:"Description",dataIndex:"description",key:"description",width:"40%"},{title:"Tags",dataIndex:"keywords",key:"keywords",render:function(e){return Object(L.jsx)(L.Fragment,{children:null===e||void 0===e?void 0:e.map((function(e,t){return Object(L.jsx)(F.a,{color:"blue",children:e.toUpperCase()},"".concat(e,"-").concat(t))}))})}},{title:"NPM link",dataIndex:"links",key:"links",render:function(e){return Object(L.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.npm,children:e.npm})}}],q=function(){var e=j((function(e){return e.packages})),t=e.loading,n=e.packagesList;return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(E.a,{loading:t,columns:R,dataSource:n,pagination:!1,bordered:!0,rowKey:"name"})})},z=s.a.Title,A=function(){return Object(L.jsxs)(o.b,{direction:"vertical",size:20,style:{width:"100%"},children:[Object(L.jsx)(z,{level:2,children:"Package Parser"}),Object(L.jsx)(T,{}),Object(L.jsx)(q,{})]})},M=n(271),U=Object(k.c)({name:"packages",initialState:{packagesList:[],loading:!1},reducers:{updatePackage:function(e,t){e.packagesList=t.payload},setLoading:function(e,t){e.loading=t.payload}},extraReducers:function(e){e.addCase(S.pending,(function(e){e.loading=!0})),e.addCase(S.fulfilled,(function(e,t){e.packagesList=t.payload,e.loading=!1})),e.addCase(S.rejected,(function(e,t){M.a.error({title:t.error.message}),e.loading=!1}))}}).reducer,B=Object(k.a)({reducer:{packages:U}}),D=function(){return Object(L.jsx)(f.a,{store:B,children:Object(L.jsx)(A,{})})};n(265),n(266);i.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(D,{})}),document.getElementById("root"))}},[[267,1,2]]]);
//# sourceMappingURL=main.98a799e6.chunk.js.map