(this["webpackJsonppackage-parser"]=this["webpackJsonppackage-parser"]||[]).push([[0],{256:function(e,t,a){},258:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(24),i=a.n(c),s=a(77),o=a(87),u=n.a.createContext(),d={packageList:[],loading:!1},p=function(e,t){switch(t.type){case"updatePackage":return Object(o.a)(Object(o.a)({},e),{},{packageList:t.payload});case"clearPackage":return d;case"setLoading":return Object(o.a)(Object(o.a)({},e),{},{loading:t.payload});default:return e}},l=a(262),j=a(266),b=a(51),h=a.n(b),f=a(69),O=a(263),g=a(261),k=a(264),x=a(38),m=function(e){return{type:"setLoading",payload:e}},y=a(22),v=O.a.TextArea;function w(){var e=Object(r.useContext)(u),t=e.dispatch,a=e.state,n=g.a.useForm(),c=Object(s.a)(n,1)[0],i=function(){var e=Object(f.a)(h.a.mark((function e(a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=JSON.parse(a.package),t({type:"updatePackage",payload:Object.keys(r)})}catch(a){k.a.error({title:"Not a JSON"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(g.a,{form:c,layout:"vertical",onFinish:i,children:[Object(y.jsx)(g.a.Item,{name:"package",required:!0,children:Object(y.jsx)(v,{allowClear:!0,autoSize:{minRows:2},placeholder:'Insert dependencies json: { "react": "^17.0.2" }'})}),Object(y.jsx)(g.a.Item,{children:Object(y.jsx)(x.a,{loading:a.loading,type:"primary",htmlType:"submit",children:"Find"})})]})}var P=a(260),I=a(265),L=a(146),S=a.n(L).a.create({baseURL:"https://api.npms.io/v2/search"}),N={getPackage:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("",{params:{q:t}});case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=[{title:"Title",dataIndex:"name",key:"name",width:"15%"},{title:"Description",dataIndex:"description",key:"description",width:"40%"},{title:"Tags",dataIndex:"keywords",key:"keywords",render:function(e){return Object(y.jsx)(y.Fragment,{children:null===e||void 0===e?void 0:e.map((function(e){return Object(y.jsx)(I.a,{color:"blue",children:e.toUpperCase()},e)}))})}},{title:"NPM link",dataIndex:"links",key:"links",render:function(e){return Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.npm,children:e.npm})}}],J=function(){var e=Object(f.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.length){e.next=8;break}for(r in a=[],t)a.push(N.getPackage(t[r]));return e.next=5,Promise.all(a).then((function(e){return e.map((function(e){return e.results[0].package}))}));case 5:return e.abrupt("return",e.sent);case 8:k.a.error({title:"JSON is empty"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function T(){var e=Object(r.useContext)(u),t=e.dispatch,a=e.state,n=Object(r.useState)([]),c=Object(s.a)(n,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){t(m(!0)),J(a.packageList).then((function(e){o(e),t(m(!1))}))}),[a.packageList]),Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(P.a,{loading:a.loading,columns:C,dataSource:i,pagination:!1,bordered:!0,rowKey:"name"})})}var F=l.a.Title;function R(){return Object(y.jsxs)(j.b,{direction:"vertical",size:20,style:{width:"100%"},children:[Object(y.jsx)(F,{level:2,children:"Package Parser"}),Object(y.jsx)(w,{}),Object(y.jsx)(T,{})]})}function q(){var e=Object(r.useReducer)(p,d),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(y.jsx)(u.Provider,{value:{dispatch:n,state:a},children:Object(y.jsx)(R,{})})}a(256),a(257);i.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(q,{})}),document.getElementById("root"))}},[[258,1,2]]]);
//# sourceMappingURL=main.bdf80bfc.chunk.js.map