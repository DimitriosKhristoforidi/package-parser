{"version":3,"sources":["store/reducer.js","store/actions.js","components/PackageInput/index.jsx","API.js","components/PackagesTable/index.jsx","containers/MainPage/index.jsx","App.jsx","index.js"],"names":["ContextApp","React","createContext","initialState","packageList","loading","packageReducer","state","action","type","payload","setLoading","TextArea","Input","PackageInput","useContext","dispatch","Form","useForm","form","onFinish","e","a","packageObject","JSON","parse","package","Object","keys","Modal","error","title","layout","Item","name","required","allowClear","autoSize","minRows","placeholder","htmlType","httpRequest","Axios","create","baseURL","api","getPackage","get","params","q","data","columns","dataIndex","key","width","render","keywords","map","tag","color","toUpperCase","links","target","rel","href","npm","getPackagesData","setPackagesData","length","i","promises","push","API","Promise","all","then","r","packagesData","item","results","PackagesTable","useState","useEffect","className","dataSource","pagination","bordered","rowKey","Title","Typography","MainPage","direction","size","style","level","App","useReducer","Provider","value","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8ccdb66b.chunk.js","sourcesContent":["import React from 'react';\n\nexport const ContextApp = React.createContext();\n\nexport const initialState = {\n  packageList: [],\n  loading: false,\n};\n\nexport const packageReducer = (state, action) => {\n  switch (action.type) {\n    case 'updatePackage':\n      return { ...state, packageList: action.payload };\n    case 'clearPackage':\n      return initialState;\n    case 'setLoading':\n      return {...state, loading: action.payload};\n    default:\n      return state;\n  }\n};\n","export const updatePackage = (payload) => ({\n  type: 'updatePackage',\n  payload,\n});\n\nexport const clearPackage = () => ({\n  type: 'clearPackage',\n});\n\nexport const setLoading = (payload) => ({\n  type: 'setLoading',\n  payload\n});\n","import { useContext } from 'react';\nimport { Button, Form, Input, Modal } from 'antd';\nimport { ContextApp } from '../../store/reducer';\nimport { updatePackage } from '../../store/actions';\n\nconst { TextArea } = Input;\n\nexport default function PackageInput() {\n  const { dispatch, state } = useContext(ContextApp);\n  const [form] = Form.useForm();\n\n  const onFinish = async (e) => {\n    try {\n      const packageObject = JSON.parse(e.package);\n      dispatch(updatePackage(Object.keys(packageObject)));\n    } catch (e) {\n      Modal.error({ title: 'Not a json' });\n    }\n  };\n\n  return (\n    <Form\n      form={form}\n      layout=\"vertical\"\n      onFinish={onFinish}\n    >\n      <Form.Item name=\"package\" required>\n        <TextArea allowClear autoSize={{ minRows: 2 }} placeholder='Insert dependencies json: { \"react\": \"^17.0.2\" }' />\n      </Form.Item>\n      <Form.Item>\n        <Button loading={state.loading} type=\"primary\" htmlType=\"submit\">Find</Button>\n      </Form.Item>\n    </Form>\n  );\n\n}\n","import Axios from 'axios';\n\nconst httpRequest = Axios.create({\n  baseURL: 'https://api.npms.io/v2/search',\n});\n\nconst api = {\n  getPackage: async (name) => {\n    const { data } = await httpRequest.get('', {\n      params: {\n        q: name,\n      },\n    });\n    return data;\n  },\n};\n\nexport default api;\n","import { useContext, useEffect, useState } from 'react';\nimport { ContextApp } from '../../store/reducer';\nimport API from '../../API';\nimport { Table, Tag } from 'antd';\nimport { setLoading } from '../../store/actions';\n\nconst columns = [\n  {\n    title: 'Title',\n    dataIndex: 'name',\n    key: 'name',\n    width: '15%',\n  },\n  {\n    title: 'Description',\n    dataIndex: 'description',\n    key: 'description',\n    width: '40%',\n  },\n  {\n    title: 'Tags',\n    dataIndex: 'keywords',\n    key: 'keywords',\n    render: keywords => (\n      <>\n          {\n            keywords?.map(tag =>\n              <Tag color=\"blue\" key={tag}>\n                {tag.toUpperCase()}\n              </Tag>,\n            )\n          }\n        </>\n    ),\n  },\n  {\n    title: 'NPM link',\n    dataIndex: 'links',\n    key: 'links',\n    render: links => (\n      <a target=\"_blank\" rel=\"noreferrer\" href={links.npm}>{links.npm}</a>\n    ),\n  },\n];\n\nconst getPackagesData = async (state, dispatch, setPackagesData) => {\n  if (state.packageList.length) {\n    dispatch(setLoading(true));\n    const promises = [];\n    for (let i in state.packageList)\n      promises.push(API.getPackage(state.packageList[i]));\n    await Promise.all(promises).then(r => {\n      const packagesData = r.map(item => item.results[0].package);\n      setPackagesData(packagesData);\n    });\n    dispatch(setLoading(false));\n  }\n};\n\nexport default function PackagesTable() {\n  const { dispatch, state } = useContext(ContextApp);\n  const [packagesData, setPackagesData] = useState([]);\n\n  useEffect(() => {\n    getPackagesData(state, dispatch, setPackagesData);\n  }, [state.packageList]);\n\n  return (\n    <div className=\"App\">\n      <Table\n        loading={state.loading}\n        columns={columns}\n        dataSource={packagesData}\n        pagination={false}\n        bordered\n        rowKey={'name'}\n      />\n    </div>\n  );\n}\n","import { Space, Typography } from 'antd';\nimport PackageInput from '../../components/PackageInput';\nimport PackagesTable from '../../components/PackagesTable';\n\nconst { Title } = Typography;\n\nexport default function MainPage() {\n  return (\n    <Space direction=\"vertical\" size={20} style={{ width: '100%' }}>\n      <Title level={2}>Package Parser</Title>\n      <PackageInput />\n      <PackagesTable />\n    </Space>\n  );\n\n}\n","import React, { useReducer } from 'react';\nimport {ContextApp, initialState, packageReducer} from \"./store/reducer.js\";\nimport MainPage from './containers/MainPage';\n\nexport default function App() {\n  const [state, dispatch] = useReducer(packageReducer, initialState);\n\n  return (\n    <ContextApp.Provider value={{ dispatch, state }}>\n      <MainPage />\n    </ContextApp.Provider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}