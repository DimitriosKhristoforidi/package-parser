{"version":3,"sources":["store/reducer.js","store/actions.js","components/PackageInput/index.jsx","API.js","components/PackagesTable/utils.js","components/PackagesTable/index.jsx","containers/MainPage/index.jsx","App.jsx","index.js"],"names":["ContextApp","React","createContext","initialState","packageList","loading","packageReducer","state","action","type","payload","setLoading","TextArea","Input","PackageInput","useContext","dispatch","Form","useForm","form","onFinish","e","a","packageObject","JSON","parse","package","Object","keys","Modal","error","title","layout","Item","name","required","allowClear","autoSize","minRows","placeholder","htmlType","httpRequest","Axios","create","baseURL","api","getPackage","get","params","q","data","columns","dataIndex","key","width","render","keywords","map","tag","color","toUpperCase","links","target","rel","href","npm","getPackagesData","list","length","i","promises","push","API","Promise","all","then","r","item","results","PackagesTable","useState","packagesData","setPackagesData","useEffect","className","dataSource","pagination","bordered","rowKey","Title","Typography","MainPage","direction","size","style","level","App","useReducer","Provider","value","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bdf80bfc.chunk.js","sourcesContent":["import React from 'react';\n\nexport const ContextApp = React.createContext();\n\nexport const initialState = {\n  packageList: [],\n  loading: false,\n};\n\nexport const packageReducer = (state, action) => {\n  switch (action.type) {\n    case 'updatePackage':\n      return { ...state, packageList: action.payload };\n    case 'clearPackage':\n      return initialState;\n    case 'setLoading':\n      return {...state, loading: action.payload};\n    default:\n      return state;\n  }\n};\n","export const updatePackage = (payload) => ({\n  type: 'updatePackage',\n  payload,\n});\n\nexport const clearPackage = () => ({\n  type: 'clearPackage',\n});\n\nexport const setLoading = (payload) => ({\n  type: 'setLoading',\n  payload\n});\n","import { useContext } from 'react';\nimport { Button, Form, Input, Modal } from 'antd';\nimport { ContextApp } from '../../store/reducer';\nimport { updatePackage } from '../../store/actions';\n\nconst { TextArea } = Input;\n\nexport default function PackageInput() {\n  const { dispatch, state } = useContext(ContextApp);\n  const [form] = Form.useForm();\n\n  const onFinish = async (e) => {\n    try {\n      const packageObject = JSON.parse(e.package);\n      dispatch(updatePackage(Object.keys(packageObject)));\n    } catch (e) {\n      Modal.error({ title: 'Not a JSON' });\n    }\n  };\n\n  return (\n    <Form\n      form={form}\n      layout=\"vertical\"\n      onFinish={onFinish}\n    >\n      <Form.Item name=\"package\" required>\n        <TextArea allowClear autoSize={{ minRows: 2 }} placeholder='Insert dependencies json: { \"react\": \"^17.0.2\" }' />\n      </Form.Item>\n      <Form.Item>\n        <Button loading={state.loading} type=\"primary\" htmlType=\"submit\">Find</Button>\n      </Form.Item>\n    </Form>\n  );\n\n}\n","import Axios from 'axios';\n\nconst httpRequest = Axios.create({\n  baseURL: 'https://api.npms.io/v2/search',\n});\n\nconst api = {\n  getPackage: async (name) => {\n    const { data } = await httpRequest.get('', {\n      params: {\n        q: name,\n      },\n    });\n    return data;\n  },\n};\n\nexport default api;\n","import { Modal, Tag } from 'antd';\nimport API from '../../API';\n\nexport const columns = [\n  {\n    title: 'Title',\n    dataIndex: 'name',\n    key: 'name',\n    width: '15%',\n  },\n  {\n    title: 'Description',\n    dataIndex: 'description',\n    key: 'description',\n    width: '40%',\n  },\n  {\n    title: 'Tags',\n    dataIndex: 'keywords',\n    key: 'keywords',\n    render: keywords => (\n      <>\n        {\n          keywords?.map(tag =>\n            <Tag color=\"blue\" key={tag}>\n              {tag.toUpperCase()}\n            </Tag>,\n          )\n        }\n      </>\n    ),\n  },\n  {\n    title: 'NPM link',\n    dataIndex: 'links',\n    key: 'links',\n    render: links => (\n      <a target=\"_blank\" rel=\"noreferrer\" href={links.npm}>{links.npm}</a>\n    ),\n  },\n];\n\nexport const getPackagesData = async (list) => {\n  if (list.length) {\n    const promises = [];\n    for (let i in list)\n      promises.push(API.getPackage(list[i]));\n    return await Promise.all(promises)\n      .then(r => r.map(item => item.results[0].package));\n  } else {\n    Modal.error({ title: 'JSON is empty' });\n  }\n};\n","import { useContext, useEffect, useState } from 'react';\nimport { ContextApp } from '../../store/reducer';\nimport { setLoading } from '../../store/actions';\nimport { Table } from 'antd';\nimport { columns, getPackagesData } from './utils';\n\nexport default function PackagesTable() {\n  const { dispatch, state } = useContext(ContextApp);\n  const [packagesData, setPackagesData] = useState([]);\n\n  useEffect(() => {\n    dispatch(setLoading(true));\n    getPackagesData(state.packageList)\n      .then(r => {\n        setPackagesData(r);\n        dispatch(setLoading(false));\n      });\n    // eslint-disable-next-line\n  }, [state.packageList]);\n\n  return (\n    <div className=\"App\">\n      <Table\n        loading={state.loading}\n        columns={columns}\n        dataSource={packagesData}\n        pagination={false}\n        bordered\n        rowKey={'name'}\n      />\n    </div>\n  );\n}\n","import { Space, Typography } from 'antd';\nimport PackageInput from '../../components/PackageInput';\nimport PackagesTable from '../../components/PackagesTable';\n\nconst { Title } = Typography;\n\nexport default function MainPage() {\n  return (\n    <Space direction=\"vertical\" size={20} style={{ width: '100%' }}>\n      <Title level={2}>Package Parser</Title>\n      <PackageInput />\n      <PackagesTable />\n    </Space>\n  );\n\n}\n","import React, { useReducer } from 'react';\nimport {ContextApp, initialState, packageReducer} from \"./store/reducer.js\";\nimport MainPage from './containers/MainPage';\n\nexport default function App() {\n  const [state, dispatch] = useReducer(packageReducer, initialState);\n\n  return (\n    <ContextApp.Provider value={{ dispatch, state }}>\n      <MainPage />\n    </ContextApp.Provider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}